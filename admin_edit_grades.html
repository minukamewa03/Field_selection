{% extends 'admin_base.html' %}
{% block content %}
<h2>Edit Grades for {{ student.name }} ({{ student.reg_no }})</h2>
<form method="post" class="mt-3">
  <table class="table table-bordered table-sm">
    <thead><tr><th>Module</th><th>Current Grade</th><th>Edit Grade</th></tr></thead>
    <tbody>
      {% for mod in modules %}
      <tr>
        <td>{{ mod.upper() }}</td>
        <td>{{ grades[mod] }}</td>
        <td>
          <select name="{{ mod }}" class="form-select form-select-sm">
            {% for g in ['A+','A','A-','B+','B','B-','C+','C','C-','D','F','I'] %}
            <option value="{{ g }}" {% if grades[mod] == g %}selected{% endif %}>{{ g }}</option>
            {% endfor %}
          </select>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <button class="btn btn-success" type="submit">Save Changes</button>
  <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary ms-2">Back to Dashboard</a>
</form>
{% endblock %}
