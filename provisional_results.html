<!DOCTYPE html>
<html>
<head>
  <title>Your Provisional Results</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <h2>Your Provisional Results</h2>
  <form method="post" class="mt-3">
    <table class="table table-bordered table-striped">
      <thead>
        <tr><th>Module</th><th>Current Grade</th><th>Edit Grade</th></tr>
      </thead>
      <tbody>
        {% for mod in modules %}
        <tr>
          <td>{{ mod.upper() }}</td>
          <td>{{ grades[mod] }}</td>
          <td>
            <select name="{{ mod }}" class="form-select form-select-sm">
              {% for g in ['A+','A','A-','B+','B','B-','C+','C','C-','D','F','I'] %}
                <option value="{{ g }}" {% if grades[mod] == g %}selected{% endif %}>{{ g }}</option>
              {% endfor %}
            </select>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <p><strong>SGPA:</strong> {{ sgpa }}</p>
    <p><strong>Rank:</strong> {{ rank }}</p>
    <button class="btn btn-success" type="submit">Save Changes</button>
  </form>
  <br>
  <a href="{{ url_for('preference') }}" class="btn btn-primary">Next: Select Preferences</a>
  {% for msg in get_flashed_messages() %}
  <div class="alert alert-info mt-3">{{ msg }}</div>
  {% endfor %}
</div>
</body>
</html>
